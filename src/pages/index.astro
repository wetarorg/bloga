---
import Layout from '../layouts/Layout.astro';
import { getBlogPosts } from '../lib/turso';
import BlogPost from '../components/BlogPost.astro';

const posts = await getBlogPosts();
---

<Layout title="Welcome to My Blog">
	<h1>Welcome to My Blog</h1>
	<section>
		{posts.map((post) => (
			<BlogPost 
				title={post.title} 
				slug={post.slug} 
				excerpt={post.excerpt} 
				thumbnailUrl={post.thumbnail_url}
			/>
		))}
	</section>
</Layout>

<style>
	section {
		max-width: 800px;
		margin: 0 auto;
	}
</style>